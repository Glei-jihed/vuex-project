{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-cb822534\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"movie\"\n};\nconst _hoisted_2 = {\n  class: \"movie__title\"\n};\nconst _hoisted_3 = {\n  class: \"movie__note\"\n};\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_review = _resolveComponent(\"review\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"movie__background\",\n    style: _normalizeStyle({\n      backgroundImage: 'url(\\'' + $options.movie.image + '\\')'\n    })\n  }, null, 4 /* STYLE */), _createElementVNode(\"div\", {\n    class: \"movie__image\",\n    style: _normalizeStyle({\n      backgroundImage: 'url(\\'' + $options.movie.image + '\\')'\n    })\n  }, null, 4 /* STYLE */), _createVNode(_component_router_link, {\n    to: {\n      name: 'home'\n    },\n    class: \"movie__back\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"← Retour\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"h1\", _hoisted_2, _toDisplayString($options.movie.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, i => {\n    return _createElementVNode(\"span\", {\n      key: i,\n      class: _normalizeClass({\n        'movie__star': true,\n        'movie__star--dark': i > $options.movie.note\n      }),\n      onClick: $event => $options.updateNote(i)\n    }, \"⭐\", 10 /* CLASS, PROPS */, _hoisted_4);\n  }), 64 /* STABLE_FRAGMENT */))]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.reviews, (review, idx) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: idx\n    }, [_createVNode(_component_review, {\n      review: review\n    }, null, 8 /* PROPS */, [\"review\"])]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAO;;EAIZA,KAAK,EAAC;AAAc;;EACnBA,KAAK,EAAC;AAAa;;;;;uBAL1BC,oBAWM,OAXNC,UAWM,GAVJC,oBAAgG;IAA3FH,KAAK,EAAC,mBAAmB;IAAEI,KAAK;MAAAC,4BAA+BC,cAAK,CAACC,KAAK;IAAA;2BAC/EJ,oBAAsF;IAAjFH,KAAK,EAAC,cAAc;IAAEI,KAAK;MAAAC,4BAA+BC,cAAK,CAACC,KAAK;IAAA;2BAC1EC,aAA4EC;IAA9DC,EAAE,EAAE;MAAAC;IAAA,CAAc;IAAEX,KAAK,EAAC;;sBAAc,MAAQ,kBAAR,UAAQ;;MAC9DG,oBAA6C,MAA7CS,UAA6C,mBAAlBN,cAAK,CAACO,KAAK,kBACtCV,oBAEM,OAFNW,UAEM,kBADJb,oBAAkIc,6BAAhH,CAAC,EAANC,CAAC;WAAdb,oBAAkI;MAA5Gc,GAAG,EAAED,CAAC;MAAGhB,KAAK;QAAA;QAAA,qBAA8CgB,CAAC,GAAGV,cAAK,CAACY;MAAI;MAAIC,OAAK,YAAEb,mBAAU,CAACU,CAAC;OAAG,GAAC;uDAE7Hf,oBAEMc,6BAFuBK,YAAO,GAAvBC,MAAM,EAAEC,GAAG;yBAAxBrB,oBAEM;MAFiCgB,GAAG,EAAEK;IAAG,IAC7Cd,aAA0Be;MAAjBF,MAAM,EAAEA;IAAM","names":["class","_createElementBlock","_hoisted_1","_createElementVNode","style","backgroundImage","$options","image","_createVNode","_component_router_link","to","name","_hoisted_2","title","_hoisted_3","_Fragment","i","key","note","onClick","_ctx","review","idx","_component_review"],"sourceRoot":"","sources":["C:\\Users\\Mihawk\\Desktop\\portfelio\\vuejs-project\\cinema\\src\\views\\Movie.vue"],"sourcesContent":["<template>\n  <div class=\"movie\">\n    <div class=\"movie__background\" :style=\"{backgroundImage: 'url(\\'' + movie.image + '\\')'}\"></div>\n    <div class=\"movie__image\" :style=\"{backgroundImage: 'url(\\'' + movie.image + '\\')'}\"/>\n    <router-link :to=\"{name :'home'}\" class=\"movie__back\">← Retour</router-link>\n    <h1 class=\"movie__title\">{{movie.title}}</h1>\n    <div class=\"movie__note\">\n      <span v-for=\"i in 5\" :key=\"i\" :class=\"{'movie__star': true, 'movie__star--dark' : i > movie.note}\" @click=\"updateNote(i)\">⭐</span>\n    </div>\n    <div v-for=\"(review, idx) in reviews\" :key=\"idx\">\n      <review :review=\"review\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Review from '@/components/Review.vue'\nimport { SET_NOTE } from '@/store/mutation-types';\n\nexport default {\n  name: 'Movie',\n  props: ['id'],\n  components: {\n    Review,\n  },\n  created () {\n    // mutation\n    // this.$store.commit('setCurrentMovieVersionMutation', this.id);\n\n    // action\n    this.$store.dispatch('setCurrentMovie', this.id);\n  },\n  computed: {\n    movie: function() {\n      console.log(this.$store.getters.getCurrentMovie)\n      return this.$store.getters.getCurrentMovie;\n    }\n  },\n  data: function () {\n    return {\n      reviews : [{\n        author : 'Jean Bon',\n        date : 'Avant hier',\n        comment : 'Génial comme film',\n        note : 3,\n      },\n      {\n        author : 'Lapin du 42',\n        date : 'Il y a deux semaines',\n        comment : 'Un vrai rafraichissement',\n        note : 4,\n      },\n      {\n        author : 'Minette Champlin',\n        date : 'Il y a un mois',\n        comment : 'Du sucre en conserve',\n        note : 12,\n      }]\n    }\n  },\n  methods: {\n    updateNote: function (newNote) {\n      // HARDCODED NAME\n      // this.$store.commit('setNote', newNote);\n\n      // CONSTANT MUTATION\n      this.$store.commit(SET_NOTE, newNote);\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .movie {\n    min-height: 100vh;\n    max-width: 400px;\n    margin: 0 auto;\n    padding:32px;\n  }\n\n  .movie__back {\n    color: #ececec;\n    font-weight: 300;\n    text-decoration: none;\n    margin-top: 16px;\n    display: inline-block;\n  }\n\n  .movie__image {\n    max-width: 100%;\n    height: 0;\n    padding-bottom: 154%;\n    background-repeat: no-repeat;\n    background-size: cover;\n    margin: 0 auto;\n    border-radius:16px;\n  }\n\n  .movie__background {\n    padding: 32px;\n    background-size: cover;\n    background-position: center center;\n    filter: blur(8px);\n    height: 400px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    z-index: -1;\n  }\n\n  .movie__title {\n    font-size: 24px;\n    padding: 8px;\n    font-weight: normal;\n    color:white;\n  }\n\n    \n  .movie__star {\n    text-shadow: 0 0 8px #ffdc188c, 0 0 16px #ffffff54;\n  }\n\n  .movie__star:hover {\n    cursor:pointer;\n  }\n\n  .movie__star--dark {\n    opacity:0.5;\n    text-shadow: none;\n  }\n\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}